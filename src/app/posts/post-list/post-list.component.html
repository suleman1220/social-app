<mat-spinner *ngIf="isLoading" diameter="30"></mat-spinner>
<div *ngIf="!isLoading">
  <div *ngIf="posts.length">
    <mat-card class="example-card" *ngFor="let post of posts">
      <mat-card-content>
        <mat-card-title>
          {{ post.title }}
        </mat-card-title>
        <p>
          {{ post.content }}
        </p>
      </mat-card-content>
      <img mat-card-image [src]="post.imagePath" [alt]="post.title" />
      <mat-card-actions
        align="end"
        *ngIf="isUserAuthenticated && userId === post.creator"
      >
        <a mat-button color="accent" [routerLink]="['/edit', post.id]">
          <mat-icon>create</mat-icon> EDIT
        </a>
        <button mat-button color="warn" (click)="onDelete(post.id)">
          <mat-icon>delete</mat-icon> DELETE
        </button>
      </mat-card-actions>
      <div
        *ngIf="!isUserAuthenticated || userId != post.creator"
        class="mat-caption"
      >
        Posted by {{ post.creatorEmail }}
      </div>
    </mat-card>
  </div>
  <p class="mat-body-strong info" *ngIf="!posts.length">No posts added yet!</p>
</div>
<mat-paginator
  *ngIf="posts.length"
  [length]="totalPosts"
  [pageSize]="postsPerPage"
  [pageSizeOptions]="pageSizeOptions"
  (page)="onPageChange($event)"
>
</mat-paginator>
